/**
 * Minified by jsDelivr using Terser v5.10.0.
 * Original file: /npm/cdbootstrap@1.0.0/src/js/utils.js
 *
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
function init(e){const t=document.createElement("div");t.addEventListener("click",clickOnWrapper),t.classList.add("multi-select-component");const n=document.createElement("div");n.classList.add("search-container");const o=document.createElement("input");o.classList.add("selected-input"),o.setAttribute("autocomplete","off"),o.setAttribute("tabindex","0"),o.addEventListener("keyup",inputChange),o.addEventListener("keydown",deletePressed),o.addEventListener("click",openOptions);const c=document.createElement("a");c.setAttribute("href","#"),c.classList.add("dropdown-icon"),c.addEventListener("click",clickDropdown);const l=document.createElement("ul");l.classList.add("autocomplete-list"),n.appendChild(o),n.appendChild(l),n.appendChild(c),e.parentNode.replaceChild(t,e),t.appendChild(e),t.appendChild(n),createInitialTokens(e),addPlaceholder(t)}function removePlaceholder(e){e.querySelector(".selected-input").removeAttribute("placeholder")}function addPlaceholder(e){const t=e.querySelector(".selected-input");e.querySelectorAll(".selected-wrapper").length||document.activeElement===t||t.setAttribute("placeholder","---------")}function createInitialTokens(e){let{options_selected:t}=getOptions(e);const n=e.parentNode;for(let e=0;e<t.length;e++)createToken(n,t[e])}function inputChange(e){const t=e.target.parentNode.parentNode,n=t.querySelector("select"),o=t.querySelector(".dropdown-icon"),c=e.target.value;if(c)o.classList.add("active"),populateAutocompleteList(n,c.trim());else{o.classList.remove("active");const e=new Event("click");o.dispatchEvent(e)}}function clickOnWrapper(e){const t=e.target;if("DIV"==t.tagName){const e=t.querySelector(".selected-input"),n=t.querySelector(".dropdown-icon");if(!n.classList.contains("active")){const e=new Event("click");n.dispatchEvent(e)}e.focus(),removePlaceholder(t)}}function openOptions(e){const t=e.target.parentElement.parentElement.querySelector(".dropdown-icon");if(!t.classList.contains("active")){const e=new Event("click");t.dispatchEvent(e)}e.stopPropagation()}function createToken(e,t){const n=e.querySelector(".search-container"),o=document.createElement("div");o.classList.add("selected-wrapper");const c=document.createElement("span");c.classList.add("selected-label"),c.innerText=t;const l=document.createElement("a");l.classList.add("selected-close"),l.setAttribute("tabindex","-1"),l.setAttribute("data-option",t),l.setAttribute("data-hits",0),l.setAttribute("href","#"),l.innerText="x",l.addEventListener("click",removeToken),o.appendChild(c),o.appendChild(l),e.insertBefore(o,n)}function clickDropdown(e){const t=e.target,n=t.parentNode.parentNode,o=n.querySelector(".selected-input"),c=n.querySelector("select");t.classList.toggle("active"),t.classList.contains("active")?(removePlaceholder(n),o.focus(),o.value?populateAutocompleteList(c,o.value):populateAutocompleteList(c,"",!0)):(clearAutocompleteList(c),addPlaceholder(n))}function clearAutocompleteList(e){e.parentNode.querySelector(".autocomplete-list").innerHTML=""}function populateAutocompleteList(e,t,n=!1){const{autocomplete_options:o}=getOptions(e);let c;c=n?o:autocomplete(t,o);const l=e.parentNode,a=(l.querySelector(".search-container"),l.querySelector(".autocomplete-list"));a.innerHTML="";const r=c.length;if(1==r){const e=document.createElement("li");if(e.innerText=c[0],e.setAttribute("data-value",c[0]),e.addEventListener("click",selectOption),a.appendChild(e),t.length==c[0].length){const t=new Event("click");e.dispatchEvent(t)}}else if(r>1)for(let e=0;e<r;e++){const t=document.createElement("li");t.innerText=c[e],t.setAttribute("data-value",c[e]),t.addEventListener("click",selectOption),a.appendChild(t)}else{const e=document.createElement("li");e.classList.add("not-cursor"),e.innerText="No options found",a.appendChild(e)}}function selectOption(e){const t=e.target.parentNode.parentNode.parentNode,n=t.querySelector(".selected-input");t.querySelector(`select option[value="${e.target.dataset.value}"]`).setAttribute("selected",""),createToken(t,e.target.dataset.value),n.value&&(n.value=""),n.focus(),e.target.remove();const o=t.querySelector(".autocomplete-list");if(!o.children.length){const e=document.createElement("li");e.classList.add("not-cursor"),e.innerText="No options found",o.appendChild(e)}const c=new Event("keyup");n.dispatchEvent(c),e.stopPropagation()}function autocomplete(e,t){if(!e)return t;let n=[];for(let o=0;o<t.length;o++)e.toLowerCase()===t[o].slice(0,e.length).toLowerCase()&&n.push(t[o]);return n}function getOptions(e){const t=Array.from(e.querySelectorAll("option")).map((e=>e.value)),n=Array.from(e.querySelectorAll("option:checked")).map((e=>e.value)),o=[];return t.forEach((e=>{n.includes(e)||o.push(e)})),o.sort(),{options_selected:n,autocomplete_options:o}}function removeToken(e){const t=e.target.dataset.option,n=e.target.parentNode.parentNode,o=n.querySelector(".selected-input"),c=n.querySelector(".dropdown-icon");n.querySelector(`select option[value="${t}"]`).removeAttribute("selected"),e.target.parentNode.remove(),o.focus(),c.classList.remove("active");const l=new Event("click");c.dispatchEvent(l),e.stopPropagation()}function deletePressed(e){const t=e.target.parentNode.parentNode,n=e.target,o=e.keyCode||e.charCode,c=t.querySelectorAll(".selected-wrapper");if(c.length){const e=c[c.length-1].querySelector("a");let t=+e.dataset.hits;if(8==o||46==o){if(!n.value)if(t>1){const t=new Event("click");e.dispatchEvent(t)}else e.dataset.hits=2}else e.dataset.hits=0}return!0}function addOption(e,t,n){const o=document.querySelector(e);let c=document.createElement("option");c.value=t,c.innerHTML=n,o.appendChild(c)}document.addEventListener("DOMContentLoaded",(()=>{document.querySelectorAll("[data-multi-select-plugin]").forEach((e=>{init(e)})),document.addEventListener("click",(()=>{const e=document.querySelectorAll("[data-multi-select-plugin]");for(let t=0;t<e.length;t++){if(event)if(!e[t].parentElement.parentElement.contains(event.target)){const n=e[t].parentElement.parentElement,o=n.querySelector(".dropdown-icon"),c=n.querySelector(".autocomplete-list");o.classList.remove("active"),c.innerHTML="",addPlaceholder(n)}}}))}));
//# sourceMappingURL=/sm/5a4bd1f891ed5f89031f29e282329b193f6e0405298a56102a06fb7a0d4704f8.map